Вернуться на [главную](README.md)

---

# Домашка по TypeScript

> Планирую еще 2 дня доделывать. Если есть возможность проверить чуть позже - будет сделано чуть больше и лучше.
  То [что сделано](#about) и что [еще планирую](#todo).


## Содержание <a name = "content_table"></a>

- [Описание](#about)
- [Начало работы](#getting_started)
- [Ошибки, обнаруженные при выполнении ДЗ](#ts_errors)
- [TODO](#todo)

## Описание <a name = "about"></a>

- Перевел сервер на ts
- Перевел клиент на ts:
    - точка входа index.ts и App.ts
    - страницы ([pages](client/src/pages))
    - компоненты ([components](client/src/components))
    - redux ([redux](client/src/redux))

Вернуться [К содержанию](#content_table)

## Начало работы <a name = "getting_started"></a>

Запустить сервер:

Переименовать файл с ключом [.env.example](server/.env.example) в `.env`. Подставить в переменную `SHRI_API_KEY` свой ключ авторизации для [api](https://hw.shri.yandex/api/).
Затем:
```bash
cd server && npm i && npm start
```

Запустить клиент:
```bash
cd client && npm i && npm start
```

Вернуться [К содержанию](#content_table)
## Ошибки, обнаруженные при выполнении ДЗ <a name = "ts_error"></a>

Связанные с TS
- В компоненте Card переменная duration использовалась то как строка, то как число (за счет неявного преобразования типов).
- В компонентах Main и Icon принимались переменные, расставляющие дополнительный css-класс. Но если эти переменные не передавались (undefined) - класс все равно выставлялся (например, вместо `main_center` - `main_` - т.е. на верстку не влияло, но html замусоривало).

Не связанные напрямую с TS
- В компоненте Modal было лишнее использование конструктора

Проблему, которые были видна и без TS
- Не унифицированный формат ответа/обработки ответа на запрос к серверу
- Плохо структурированное хранение данных в redux-store

## TODO <a name = "todo"></a>

- Избавиться от any
- Выделить дополнительно общие декларации на сервере и клиенте и между компонентами клиента (избавиться от дублирования)
- Научить webpack понимать импорты tsx-файлов без прописывания расширений (заодно избавиться от `declare module *` в [typings/index.d.ts](typings/index.d.ts)

Вернуться [К содержанию](#content_table)

---

Вернуться на [главную](README.md)
