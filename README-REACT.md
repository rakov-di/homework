Вернуться на [главную](README.md)

> В настоящий момент НЕ все готово. Продвигаюсь медленно (но верно). Планирую в течении недели все-таки выполнить задание полностью. Если есть возможность проверить работу чуть позже - в ней будет сделано чуть больше и лучше.

## Содержание

- [Описание](#about)
- [Начало работы](#getting_started)
- [Структура файлов](#file_tree)
- [TODO](#todo)

## Описание <a name = "about"></a>

**На данный момент сделано**:
 - Созданы react-компоненты для css-блоков (css-стили разбиты по компонентам)
 - При открытии `/` (или `/start-screen`) происходит запрос за текущими настройками (во время выполнения запроса крутится лоадер). Если настройки есть - идет перенаправление на страницу `/build-history`, если их нет - на страницу `/start-screen`.
 - На странице `/settings` ограничена возможность ввода в поле "период" - только цифры. При попытке отправить форму - простейшая css-валидация введенных значений: 
    - заполнены ли обязательные поля
    - является ли значение инпута для периода - числом (на всякий случай)
 - На странице `/settings` при клике на кнопку `Save` происходит добавление/обновление настроек репозитория, на время выполнения запроса (в частности, при клонировании репозитория) кнопки на странице блокируются. При клике на кнопку `Cancel` - переход на страницу `start-screen` (если настройки уже есть - оттуда сразу перенаправляет на `build-history`).
 - На странице `/build-history` при клике на кнопку `Run build` открывается модальное окно. Закрывается оно по клику на кнопку `Cancel`или на серую подложку вокруг. При клике по `Run build` в модальном окне происходит постановка введенного коммита (по `id` сборки) в очередь сборки и перенаправление на страницу нового билда. Если введенного хэша нет - показывается сообщение об ошибке в форме.
- На странице нового билда `/build/{number}` при клике на кнопку `Rebuild` происходит постановка текущего билда в очередь сборки, страница обновляется. Для каждого билда выводится раскрашенный лог-заглушка.

Для работы реакт-приложения использовались дополнительные пакеты:
- `date-fns` - форматирование даты/времени
- `ansi-to-html` - раскраска логов
- `axios` - для отправки запросов к серверу

## Начало работы <a name = "getting_started"></a>

Для запуска приложения необходимо:

### 1. Запустить NodeJS server

Посмотреть в [readme к домашке по node js](README-NODEJS.md#getting_started)

### 2. Запустить клиентское приложение React
- Зайти в папку [client](client)
- Запустить react-приложение из консоли
```CLI
npm start
```
- Доступ к приложению реализован через `http://localhost:3000`

## Структура файлов <a name = "file_tree"></a>

- [server](server) - папка с node js сервером
- [client](client) - папка с react приложением

- [build](build), [src](src) - папки с версткой для перовой домашки. Пока используются для контроля, что при переносе в реакт ничего не потерялось. По завершении домашки по react - перенести в архив.

## TODO

- Добавить в форму настроек показ текста ошибке (при незаполненных обязательных полях)
- Добавить в форму с Хэшом коммита обводку инпута при ошибке
- Добавить иконки и стили 2 статусам билдов (inprogress и cancel)
- Добавить переход на страницу `settings` при клике на кнопку с шестеренкой
- Добавить обработчик на кнопку Show more на странице билдов.
- На странице деталей билда - поправить верстку карточки
- Использовать date-fns для вывода времени билда (сейчас используется только для выводы даты, время - считаю вручную)
- Добавить закрытие модалки по клавише esc
- Подключить redux!!!
- Проверить в коде не осталось ли незакрытых TODO
- Отрефакторить код

Вернуться на [главную](README.md)
